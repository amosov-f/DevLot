# Как добавить квартал в датасет

### 1. Текущий датасет
Посмотрите на текущий датасет
https://docs.google.com/spreadsheets/d/1LSpPXxsrMTiFDyBz08OTYh0xRhyou-21f-k1xfGPHPs

### 2. РГИС
Откройте Санкт-Петербургскую региональную геоинформационную систему, http://www.rgis.spb.ru/map/PromoMapPage.aspx

### 3. Содержание карты
Слева, в списке "СОДЕРЖАНИЕ КАРТЫ" выберите "Сведения информационной системы обеспечения градостроительной деятельности", в них отметьте "Границы формируемых земельных участков, планируемых для предоставления физическим и юридическим лицам для строительства (Проект межевания)".
Затем, в них же выберите "Правила землепользования и застройки" и отметьте "Высотный регламент". Нажмите "ОК".
Теперь, участки, являющиеся кандидатами в наш датасет, будут подсвечены фиолетовым цветом (при достаточном зуме).

### 4. Поиск постановления правительства
Для того, чтобы посмотреть информацию об участке, нажмите на кнопку "i" сверху. Щелкните на интересующем Вас учатке. 

Далее, буду приводить примеры на квартале по адресу "Территория СПЧ, квартал 59А", что находится на северо западе города рядом с Лахтинским разливом (улицы Туристская, Мебельная)

Появится окно "Список объектов (в точке)". Во втором выпадающем списке выберите "Границы формируемых земельных участков, планируемых для предоставления...". В появившейся таблице нас будут интересовать поля "Пост. Правительства СПб (дата)" и "Пост. Правительства СПб (№)". Затем, гуглим это постановление правительства: "постановление правительства спб $номер от $дата". В выдаче находим нужный документ. Это долен быть текст постановления с чертежами и таблицами.

В примере, дата получается "06.09.2005", номер "1338". Идем в веб-браузер. Гуглим в Яндексе запрос "постановление правительства спб 1338 от 06.09.2005". Находим документ на docs.cntd.ru. Вот он http://docs.cntd.ru/document/8418355. Мы видим чертежи, таблицы. Номер и дата совпадают.

Теперь проверяем, что найденный квартал является жилым, а не производственным/коммерческим/пр. Для этого в таблицах находим жилые/многоквартирные дома. Проверяем, что квартал является формируемым (нет "застроенных земельных участков"). Проверяем, что в таблице есть детские сады, школы, парковки. Что нет зданий, несвойственных жилому кварталу. В примере, все как нужно - квартал нам полностью подходит.

Если квартал подходит, то приступаем к сбору данных о нем.

### 5. Добавление квартала в гугл таблицу
- Первым делом, нужно придумать кварталу уникальный идентификатор (id). Наш квартал мы назовем Приморский 59А. В [гугл таблице](https://docs.google.com/spreadsheets/d/1LSpPXxsrMTiFDyBz08OTYh0xRhyou-21f-k1xfGPHPs) два листа - data и info. Квартал должен появиться на обоих листах. Добавим на каждый лист строчку с id "Приморский 59А". 

- Поработаем с листом info. Заполним адрес - найдем его в заголовках постановления правительсва - "Квартал 59А Северо-Приморской части Приморского района". 

- Вставим ссылку - веб-документ с постановлением - http://docs.cntd.ru/document/8418355. Доп информацию пока оставим пустой. 

- Откроем лист data. Площадь квартала можно найти в первом пункте постановления - 19,77 га. Переведем в квадратные метры и запишем в столбец "площадь [кв.м.]". 

- Для определения "максимальной высоты" выберем в РГИС в окне "Список объектов (в токче)" во втором выпадающем списке "Высотный регламент" - запишем "фоновую высоту" в ячейку "высота" в таблице. 

- Для расчета периметра закроем окно "Список объектов (в токче)", увидим окно "Инструменты измерения", выберем первый из них и "обведем" им квартал - полученную "общую дистанцию" запишем в соответствующую ячейку таблицы. 

- Теперь заполним "определяемые" параметры квартала. Их мы возьмем из постановления правительства. "Жилую площадь" возьмем из "Площадь квартир (без летних помещений), кв. м", "Всего". 

- Вместимость школ из "Объекты социально-культурного обслуживания (отдельно стоящие)", "Школа на 825 учащихся с бассейном". Аналогично с садиками. 

- С парковками тут сложнее - из таблицы получается мало. Поэтому, надо хитрить. Посмотрим в "Участок хранения индивидуального транспорта" площадь парковок на 1 чел. Умножим на население и поделим на площадь парковки для одной машины (принимается равной 25 кв.м. на машину). Получим 4,41 * 7997 / 25 = 1410,6708. Отметим это в таблице. Отпишемся в доп. информации на листе info о том, что тут что-то не то было с парковками. 

В конце надо взглянуть на числа и удостовериться, что они похожи на правду.

Все, квартал добавлен. Итак, обязательные поля для заполнения - площадь, высота, периметр, жилая площадь. Постановления правительства желательно брать с gov.spb.ru, убирая при этом ненужные параметры запроса (как сделано с остальными кварталами). Если остутвует "площадь квартир", то жилая площадь принимается равной 70% от площади внутренних помещений дома. Все расчеты следует делать прямо в гугл таблице (см. этот расчет с парковками в соответсвующей ячейке гугл таблицы). Многие формируемые участки в РГИС нам не подходят. Обычно, подходящий квартал на карте не очень маленький и не очень большой. С каждым кварталом надо сидеть и кропотливо разбираться.